NodeFlow: Complete Project Blueprint
ğŸ“– Project Description
What is RAGFlow?
RAGFlow is a visual workflow builder for enterprise GenAI systems. Think of it as "n8n for AI" - a tool where non-technical users can build complex RAG (Retrieval-Augmented Generation) pipelines by dragging and dropping nodes on a canvas.
The Problem It Solves

Companies want to build AI features but lack technical expertise
Developers rebuild the same RAG patterns repeatedly
No way to visualize what's happening in AI pipelines
Hard to track costs when using multiple AI APIs
Difficult to iterate and test different approaches

The Solution
A visual interface where you:

Drag nodes onto a canvas (Upload, Chunk, Embed, Search, LLM)
Connect them with lines (data flows through connections)
Configure each node (chunk size, model, temperature)
Execute and watch in real-time (nodes light up, costs accumulate)
Save & reuse workflows (templates for common patterns)


ğŸ¯ Target Users
Primary:

AI consultants building solutions for clients
Product teams adding AI features to their apps
Data scientists prototyping AI workflows
Enterprises wanting no-code AI solutions

Secondary:

Students learning about RAG systems
Researchers testing different approaches
Agencies delivering AI projects faster


ğŸ›ï¸ System Architecture (High Level)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     USER INTERFACE                           â”‚
â”‚  React Canvas (Drag & Drop) + Real-time Execution Display   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                    REST API + SSE
                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   BACKEND (FastAPI)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         Workflow Engine (Orchestrator)                â”‚  â”‚
â”‚  â”‚  â€¢ Parses workflow JSON                               â”‚  â”‚
â”‚  â”‚  â€¢ Determines execution order                         â”‚  â”‚
â”‚  â”‚  â€¢ Executes nodes sequentially                        â”‚  â”‚
â”‚  â”‚  â€¢ Tracks costs & performance                         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                    â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              Node Registry                            â”‚  â”‚
â”‚  â”‚  Maps: "chunk" â†’ ChunkNode class                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                    â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚           Individual Nodes                            â”‚  â”‚
â”‚  â”‚  â€¢ UploadNode    â€¢ ChunkNode     â€¢ EmbedNode         â”‚  â”‚
â”‚  â”‚  â€¢ VectorStore   â€¢ SearchNode    â€¢ LLMNode           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                    Calls to:
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                         â”‚
    OpenAI API              Vector Database
    (Embeddings, LLM)      (FAISS/Pinecone)

ğŸ”„ Data Flow Example
User builds: Upload â†’ Chunk â†’ Embed â†’ Store â†’ Search â†’ LLM â†’ Display
What happens:

Upload Node: Reads document.pdf â†’ outputs {text: "..."}
Chunk Node: Splits text â†’ outputs {chunks: ["p1", "p2", ...]}
Embed Node: Calls OpenAI embeddings â†’ outputs {embeddings: [[0.1, 0.2, ...], ...]}
Vector Store: Saves to FAISS â†’ outputs {vectors_stored: 50, index_path: "..."}
Search Node: User asks question â†’ retrieves relevant chunks â†’ outputs {results: [...]}
LLM Node: Sends chunks + question to GPT-4 â†’ outputs {answer: "...", cost: 0.05}
Display: Shows answer to user


ğŸ› ï¸ Technology Stack
Backend
ComponentTechnologyVersionWhyFrameworkFastAPI0.109+Async, auto-docs, type safetyLanguagePython3.11+Best AI/ML ecosystemValidationPydantic2.5+Type checking, serializationWeb ServerUvicorn0.27+ASGI server for FastAPIAI/LLMOpenAI SDK1.10+GPT-4, embeddingsTokenizationtiktoken0.5+Accurate token countingVector SearchFAISS1.7+Fast similarity searchTestingpytest7.4+Async testing support
Frontend
ComponentTechnologyVersionWhyFrameworkReact18+Component-based UILanguageTypeScript5.0+Type safetyBuild ToolVite5.0+Fast HMR, modernWorkflow CanvasReact Flow11+Visual node editorStateZustand4.4+Simple, fast stateAPI ClientTanStack Query5.0+Caching, loading statesStylingTailwind CSS3.4+Utility-first CSSIconsLucide React0.300+Modern icon set
Development
ToolPurposeBlackPython code formattingRuffPython lintingPrettierTS/React formattingESLintTS/React linting

ğŸ“ Complete Project Structure
ragflow/
â”‚
â”œâ”€â”€ backend/                          # Python FastAPI backend
â”‚   â”œâ”€â”€ core/                         # Core engine logic
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ engine.py                 # Workflow execution engine
â”‚   â”‚   â”œâ”€â”€ node_registry.py          # Node type registry
â”‚   â”‚   â”œâ”€â”€ models.py                 # Pydantic data models
â”‚   â”‚   â””â”€â”€ exceptions.py             # Custom exceptions
â”‚   â”‚
â”‚   â”œâ”€â”€ nodes/                        # Node implementations
â”‚   â”‚   â”œâ”€â”€ __init__.py              # Auto-register all nodes
â”‚   â”‚   â”œâ”€â”€ base.py                  # BaseNode abstract class
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ input/                   # Input nodes
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â””â”€â”€ upload.py            # UploadNode
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ processing/              # Processing nodes
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â””â”€â”€ chunk.py             # ChunkNode
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ embedding/               # Embedding nodes
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â””â”€â”€ openai_embed.py      # OpenAIEmbedNode
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ storage/                 # Vector storage nodes
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â””â”€â”€ vector_store.py      # FAISSVectorStore
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ retrieval/               # Search nodes
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â””â”€â”€ search.py            # VectorSearchNode
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ llm/                     # LLM nodes
â”‚   â”‚       â”œâ”€â”€ __init__.py
â”‚   â”‚       â””â”€â”€ chat.py              # OpenAIChatNode
â”‚   â”‚
â”‚   â”œâ”€â”€ api/                         # FastAPI routes
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ execution.py             # Workflow execution endpoints
â”‚   â”‚   â”œâ”€â”€ nodes.py                 # Node info endpoints
â”‚   â”‚   â””â”€â”€ workflows.py             # Workflow CRUD endpoints
â”‚   â”‚
â”‚   â”œâ”€â”€ services/                    # Business logic layer
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ workflow_service.py      # Workflow operations
â”‚   â”‚   â””â”€â”€ execution_service.py     # Execution helpers
â”‚   â”‚
â”‚   â”œâ”€â”€ storage/                     # Data persistence
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ workflow_store.py        # Save/load workflows
â”‚   â”‚   â””â”€â”€ execution_store.py       # Save/load execution traces
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/                       # Utilities
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ logger.py                # Logging setup
â”‚   â”‚   â””â”€â”€ cost_tracker.py          # Cost calculation helpers
â”‚   â”‚
â”‚   â”œâ”€â”€ main.py                      # FastAPI app entry point
â”‚   â”œâ”€â”€ config.py                    # Configuration
â”‚   â””â”€â”€ requirements.txt             # Python dependencies
â”‚
â”œâ”€â”€ frontend/                         # React TypeScript frontend
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ Canvas/              # Main workflow canvas
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WorkflowCanvas.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CustomNode.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ CustomEdge.tsx
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar/             # Left node palette
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ NodePalette.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ NodeCategory.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ NodeCard.tsx
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ Properties/          # Right config panel
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ PropertiesPanel.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ SchemaForm.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ FormField.tsx
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â””â”€â”€ Execution/           # Bottom execution panel
â”‚   â”‚   â”‚       â”œâ”€â”€ ExecutionPanel.tsx
â”‚   â”‚   â”‚       â”œâ”€â”€ NodeStatus.tsx
â”‚   â”‚   â”‚       â”œâ”€â”€ CostTracker.tsx
â”‚   â”‚   â”‚       â””â”€â”€ ExecutionLogs.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ hooks/                   # React hooks
â”‚   â”‚   â”‚   â”œâ”€â”€ useWorkflow.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ useExecution.ts
â”‚   â”‚   â”‚   â””â”€â”€ useNodes.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ services/                # API clients
â”‚   â”‚   â”‚   â”œâ”€â”€ api.ts               # Base API client
â”‚   â”‚   â”‚   â”œâ”€â”€ workflows.ts         # Workflow API calls
â”‚   â”‚   â”‚   â””â”€â”€ execution.ts         # Execution API calls
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ store/                   # State management
â”‚   â”‚   â”‚   â””â”€â”€ workflowStore.ts     # Zustand store
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ types/                   # TypeScript types
â”‚   â”‚   â”‚   â”œâ”€â”€ workflow.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ node.ts
â”‚   â”‚   â”‚   â””â”€â”€ execution.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ App.tsx                  # Main app component
â”‚   â”‚   â””â”€â”€ main.tsx                 # Entry point
â”‚   â”‚
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ vite.config.ts
â”‚   â”œâ”€â”€ tsconfig.json
â”‚   â””â”€â”€ tailwind.config.js
â”‚
â”œâ”€â”€ data/                             # Runtime data (created on startup)
â”‚   â”œâ”€â”€ workflows/                    # Saved workflows (JSON)
â”‚   â”œâ”€â”€ executions/                   # Execution traces
â”‚   â””â”€â”€ vectors/                      # FAISS indexes
â”‚
â”œâ”€â”€ tests/                            # Test suites
â”‚   â”œâ”€â”€ backend/
â”‚   â”‚   â”œâ”€â”€ test_models.py
â”‚   â”‚   â”œâ”€â”€ test_nodes.py
â”‚   â”‚   â”œâ”€â”€ test_engine.py
â”‚   â”‚   â””â”€â”€ test_api.py
â”‚   â”‚
â”‚   â””â”€â”€ frontend/
â”‚       â””â”€â”€ (later)
â”‚
â”œâ”€â”€ docs/                             # Documentation
â”‚   â”œâ”€â”€ architecture.md
â”‚   â”œâ”€â”€ api.md
â”‚   â”œâ”€â”€ nodes.md
â”‚   â””â”€â”€ deployment.md
â”‚
â”œâ”€â”€ scripts/                          # Helper scripts
â”‚   â”œâ”€â”€ test_api.sh                   # Quick API testing
â”‚   â””â”€â”€ verify_phase1.sh              # Phase 1 verification
â”‚
â”œâ”€â”€ examples/                         # Example workflows
â”‚   â”œâ”€â”€ simple_rag.json
â”‚   â””â”€â”€ document_qa.json
â”‚
â”œâ”€â”€ .env.example                      # Environment template
â”œâ”€â”€ .gitignore
â”œâ”€â”€ docker-compose.yml
â””â”€â”€ README.md

ğŸ—ºï¸ Development Phases Overview

Build the execution engine and first 3 nodes. Test with curl.
Phase 2: Frontend Canvas 
Visual interface with drag-drop, configuration, and execution.
Phase 3: Complete RAG Pipeline 
Add embedding, vector storage, and search nodes.
Phase 4: Workflow Management 
Save, load, and manage workflows.
Phase 5: Polish & Deploy 
Styling, error handling, documentation, deployment.


ğŸ¯ Success Metrics
Technical

âœ… Execute workflows end-to-end
âœ… < 3s response time for simple workflows
âœ… 99%+ cost tracking accuracy
âœ… All tests pass
âœ… Zero critical bugs

User Experience

âœ… Build RAG workflow in < 10 minutes
âœ… Real-time execution feedback
âœ… Clear error messages
âœ… Intuitive interface (no training needed)

Business

âœ… Demo-ready in 5 minutes
âœ… Portfolio piece quality
âœ… Shows enterprise-grade thinking
âœ… Differentiates from competitors

